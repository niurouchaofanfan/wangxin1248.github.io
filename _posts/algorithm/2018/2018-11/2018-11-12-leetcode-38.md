---
layout: post
title:  "LeetCode 38.报数"
date:  2018-11-12
desc: "LeetCode 题目之 38.报数"
keywords: "LeetCode,刷题算法,Python,LeetCode,报数"
categories: [Algorithm]
tags: [LeetCode,算法,Python]
---
# 报数

## 题目描述

报数序列是一个整数序列，按照其中的整数的顺序进行报数，得到下一个数。其前五项如下：

```bash
1.     1
2.     11
3.     21
4.     1211
5.     111221
```

1 被读作  "one 1"  ("一个一") , 即 11。<br/>
11 被读作 "two 1s" ("两个一"）, 即 21。<br/>
21 被读作 "one 2",  "one 1" （"一个二" ,  "一个一") , 即 1211。<br/>

给定一个正整数 n（1 ≤ n ≤ 30），输出报数序列的第 n 项。

注意：整数顺序将表示为一个字符串。

示例 1:<br/>

输入: 1<br/>
输出: "1"<br/>
示例 2:<br/>

输入: 4<br/>
输出: "1211"<br/>

## 解题思路

这道题其实题目就很坑，所以得好好的看下题目的要求。

其实报数是对之前的数进行计数，看之前的数中有几个对应的独立数字。比如说上一个数字为 2345 ，也就是“一个2一个3一个4一个5”则应该报数为 12131415；又比如说是 2233445 则是“两个2两个3两个4一个5”，报数结果为 22232415 按照这种规律每次对前一个数字进行解读，报出下一个数字。

注意：第一个数字是1是固定的。对应的第二个数字就是 11.我们从第三个数字开始依次对之前的数字进行解读，并将结果做为下一次进行解读的对象。这样循环指定的n-2次。

## 代码-Python

```python
class Solution:  
    def countAndSay(self, n):  
        """ 
        :type n: int 
        :rtype: str 
        """  
        if n==1:#类似于斐波拉契数，后面的数跟前面的数有关  
            return '1'  
        if n==2:  
            return '11'
        #进行i=3时的循环时，它的上一项为'11'
        pre='11'
        
        #用for循环不断去计算逼近最后一次
        for i in range(3,n+1):  
            res=''#结果，每次报数都要初始化  
            cnt=1#计数变量
            
            length=len(pre)#遍历我们的上一项，所以记录它的长度
            for j in range(1,length):  
                if pre[j-1]==pre[j]:#相等则加一  
                    cnt+=1  
                else:
                    #一旦遇到不同的变量，就更新结果
                    res+=str(cnt)+pre[j-1]  
                    cnt=1#重置为1
            #把最后一项及它的数量加上
            res+=str(cnt)+pre[j]  
            pre=res#保存上一次的结果  
        return res
```